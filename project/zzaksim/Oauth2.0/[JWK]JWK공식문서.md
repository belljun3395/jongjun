## [JWK] JWK 공식문서

### Abstract

JSON 웹 키(JWK)는 **암호화 키를 나타내는 JSON(JavaScript Object Notification) 데이터 구조다.**  

또한 이 규격은 JWK 집합을 나타내는 JWK Set JSON 데이터 구조를 정의한다.  



### Introduction

JSON 웹 키(JWK)는 암호화 키를 나타내는 JavaScript Object Notification(JSON) 데이터 구조다. 

 또한 이 규격은 JWK 집합을 나타내는 JWK Set JSON 데이터 구조를 정의한다. 

JWK 및 JWK 세트는 JSON Web Signature 및 JSON Web Encryption 사양에 사용된다.

핵심 목표는 결과 표현이 압축되는 것이기 때문에 이 규격에 의해 정의된 이름은 짧다.



### Terminology

#### JSON 웹 키(JWK)

암호화 키를 나타내는 JSON 개체다.  

개체의 구성원은 **값을 포함**하여 **키의 속성**을 나타냅니다.

#### JWK 세트(JWK Set)

JWK 집합을 나타내는 JSON 개체다. 

JSON 개체에는 **JWK의 배열인 "keys" 멤버가 있어야 한다.**



### JSON 웹 키(JWK) 형식

JWK는 암호화 키를 나타내는 JSON 개체다.  

개체의 구성원은 값을 포함하여 키의 속성을 나타낸다.  

이 JSON 객체는 JSON 값 또는 구조 문자 앞 또는 뒤에 공백 및/또는 줄 바꿈을 포함할 수 있다.  

이 문서에서는 알고리즘별로 다르므로 많은 키에 공통적인 키 매개 변수를 정의한다.

공통 매개 변수 외에도 각 JWK에는 키 유형별 구성원이 있다.  

이러한 구성원은 키의 매개 변수를 나타낸다. 

JSON 웹 알고리즘(JWA) 규격은 여러 종류의 암호화 키와 관련 멤버를 정의한다.

JWK 내의 멤버 이름은 고유해야 한다. 

JWK 파서는 중복 멤버 이름이 있는 JWK를 거부하거나 사전적으로 마지막 중복 멤버 이름만 반환하는 JSON 파서를 사용해야한다.

JWK에는 추가 구성원이 있을 수 있다. 

이러한 구성원이 있는 구현에서 이해되지 않는 경우 이 구성원을 무시해야 한다.  

다른 키 유형의 키 매개 변수를 나타내는 데 사용되는 구성원 이름은 구별할 필요가 없다.  

*[자세한 구성원](https://www.rfc-editor.org/rfc/rfc7517#section-4.1)*



### JWK 세트 포맷

JWK 집합은 JWK 집합을 나타내는 JSON 개체다.  

JSON 개체에는 값이 JWK 배열인 "keys" 멤버가 있어야 한다.  

이 JSON 개체는 공백 및/또는 줄 바꿈을 포함할 수 있다.

JWK 세트 내의 멤버 이름은 고유해야 한다.

JWK 세트 파서는 중복 멤버 이름이 있는 JWK 세트를 거부하거나 사전적으로 마지막 중복 멤버 이름만 반환하는 JSON 파서를 사용해야 한다.

JWK 세트에 추가 멤버가 있을 수 있다. 

멤버가 발생하는 구현에서 이해할 수 없는 경우 멤버를 무시해야 한다. 

구현은 JWK 집합 내에서 이해되지 않거나 필요한 멤버가 누락되었거나 지원되는 범위를 벗어난 값인 "kty"(키 유형) 값을 사용하는 JWK를 무시해야 한다.



### 암호화된 JWK 및 암호화된 JWK 세트 형식

비공개 정보에 대한 정당한 액세스 없이 당사자가 비공개 키 자료를 포함한 JWK에 액세스하는 것을 방지해야 한다.

이러한 당사자가 잠재적으로 관찰할 수 있는 경우 **JWK를 암호화하여 개인 키 값 또는 대칭 키 값의 공개를 방지함으로써 이를 달성할 수 있다.**  

**이를 위해 JWK의 UTF-8 인코딩을 일반 텍스트 값으로 사용하는 JWE인 암호화된 JWK를 사용하는 것이 좋다.**  

암호화된 JWK의 처리는 다른 JWE의 처리와 동일하다.  

응용프로그램이 암호화된 내용이 다른 방법이나 규약에 의해 JWK라는 것을 알지 못하는 경우, "cty"(내용 유형) 헤더 매개변수 "jwk+json" 값을 사용하여 JWE의 내용이 JWK임을 표시해야 한다. 

이 경우 "cty" 값은 일반적으로 생략된다.

이러한 상황에서는 비공개 키 자료를 포함하는 JWK 세트도 암호화해야 한다.  

이를 위해 JWK 세트의 UTF-8 인코딩을 일반 텍스트 값으로 사용하는 JWE인 암호화된 JWK 세트를 사용하는 것이 좋다.  

암호화된 JWK 세트의 처리는 다른 JWE의 처리와 동일하다.  

응용 프로그램이 암호화된 내용이 일반적으로 "cty" 값이 생략되는 다른 방법이나 규약에 의한 JWK 세트라는 것을 알지 못하는 경우, "jwk-set+json"의 "cty" 헤더 매개 변수 값을 사용하여 JWE의 내용이 JWK 세트임을 표시해야 한다.